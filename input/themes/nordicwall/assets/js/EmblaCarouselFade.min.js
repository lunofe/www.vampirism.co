function clampNumber(n,t,e){return Math.min(Math.max(n,t),e)}function isNumber(n){return"number"==typeof n&&!isNaN(n)}function EmblaCarouselFade(n={}){const t="number"==typeof n.fadeDuration?n.fadeDuration:.4;let e,o,r,i,s=[],l=0,a=0,c=0,u=!1;function f(){E(e.selectedScrollSnap(),1)}function d(){u=!1}function p(){u=!1,l=0,a=0}function g(){const n=e.internalEngine().scrollBody.duration();a=n?0:1,u=!0,n||f()}function m(n){const{scrollSnaps:t,location:o,target:r}=e.internalEngine();!isNumber(n)||s[n]<.5||(o.set(t[n]),r.set(o))}function E(n,o){e.scrollSnapList().forEach(((r,i)=>{const a=Math.abs(o),f=s[i],d=i===n,p=clampNumber(d?f+a:f-a,0,1);s[i]=p;const g=d&&u,m=e.previousScrollSnap();g&&(s[m]=1-p),d&&function(n,t){const{index:o,dragHandler:r,scrollSnaps:i}=e.internalEngine(),s=r.pointerDown(),a=1/(i.length-1);let u=n,f=s?e.selectedScrollSnap():e.previousScrollSnap();if(s&&u===f){const n=-1*Math.sign(l);u=f,f=o.clone().set(f).add(n).get()}const d=f*a,p=(u-f)*a;c=d+p*t}(n,p),function(n){const{scrollSnaps:o,containerRect:r}=e.internalEngine(),i=e.internalEngine().slideRegistry[n],l=s[n];i.forEach((i=>{const s=e.slideNodes()[i].style,a=parseFloat(l.toFixed(2)),c=a>0,u=function(n){const{axis:t}=e.internalEngine();return`translate${t.scroll.toUpperCase()}(${t.direction(n)}px)`}(c?o[n]:r.width+2);c&&(s.transform=u),s.opacity=a.toString(),s.pointerEvents=l>.5?"auto":"none",s.transition=`opacity ${t}s ease`,c||(s.transform=u)}))}(i)}))}function S(){const{dragHandler:n,index:t,scrollBody:o}=e.internalEngine(),r=e.selectedScrollSnap();if(!n.pointerDown())return r;const i=Math.sign(o.velocity()),s=Math.sign(l),a=t.clone().set(r).add(-1*i).get();return i&&s?s===i?a:r:null}function y(){const{target:n,location:t}=e.internalEngine(),r=n.get()-t.get(),i=Math.abs(r)>=1,c=S(),u=!isNumber(c);return function(n){const{dragHandler:t,scrollBody:e}=n.internalEngine(),r=t.pointerDown(),i=e.velocity(),c=e.duration(),u=S(),f=!isNumber(u);if(r){if(!i)return;l+=i,a=Math.abs(i/o),m(u)}if(!r){if(!c||f)return;a+=(1-s[u])/c,a*=.68}f||E(u,a)}(e),!u&&!i&&s[c]>.999}function b(){return c}return{name:"fade",options:n,init:function(n){e=n;const t=e.selectedScrollSnap(),{scrollBody:l,containerRect:a,axis:c}=e.internalEngine(),m=c.measureSize(a);o=clampNumber(.75*m,200,500),u=!1,s=e.scrollSnapList().map(((n,e)=>e===t?1:0)),r=l.settled,i=e.scrollProgress,l.settled=y,e.scrollProgress=b,e.on("select",g).on("slideFocus",f).on("pointerDown",p).on("pointerUp",d),function(){const{translate:n,slideLooper:t}=e.internalEngine();n.clear(),n.toggleActive(!1),t.loopPoints.forEach((({translate:n})=>{n.clear(),n.toggleActive(!1)}))}(),f()},destroy:function(){const{scrollBody:n}=e.internalEngine();n.settled=r,e.scrollProgress=i,e.off("select",g).off("slideFocus",f).off("pointerDown",p).off("pointerUp",d),e.slideNodes().forEach((n=>{const t=n.style;t.opacity="",t.transform="",t.pointerEvents="",t.transition="",n.getAttribute("style")||n.removeAttribute("style")}))}}}